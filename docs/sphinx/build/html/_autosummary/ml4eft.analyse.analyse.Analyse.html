
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>ml4eft.analyse.analyse.Analyse &#8212; ML4EFT  documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ml4eft.analyse.animate" href="ml4eft.analyse.animate.html" />
    <link rel="prev" title="ml4eft.analyse.analyse" href="ml4eft.analyse.analyse.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">ML4EFT  documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Code
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../modules/tutorial.html">
   Tutorial
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="ml4eft.html">
   ml4eft
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="ml4eft.analyse.html">
     ml4eft.analyse
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3 current active has-children">
      <a class="reference internal" href="ml4eft.analyse.analyse.html">
       ml4eft.analyse.analyse
      </a>
      <input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
      <label for="toctree-checkbox-3">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul class="current">
       <li class="toctree-l4 current active">
        <a class="current reference internal" href="#">
         ml4eft.analyse.analyse.Analyse
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="ml4eft.analyse.animate.html">
       ml4eft.analyse.animate
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
      <label for="toctree-checkbox-4">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="ml4eft.analyse.animate.Animate.html">
         ml4eft.analyse.animate.Animate
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="ml4eft.core.html">
     ml4eft.core
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
    <label for="toctree-checkbox-5">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="ml4eft.core.classifier.html">
       ml4eft.core.classifier
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
      <label for="toctree-checkbox-6">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="ml4eft.core.classifier.Classifier.html">
         ml4eft.core.classifier.Classifier
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="ml4eft.core.classifier.ConstraintActivation.html">
         ml4eft.core.classifier.ConstraintActivation
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="ml4eft.core.classifier.CustomActivationFunction.html">
         ml4eft.core.classifier.CustomActivationFunction
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="ml4eft.core.classifier.EventDataset.html">
         ml4eft.core.classifier.EventDataset
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="ml4eft.core.classifier.Fitter.html">
         ml4eft.core.classifier.Fitter
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="ml4eft.core.classifier.MLP.html">
         ml4eft.core.classifier.MLP
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="ml4eft.core.classifier.PreProcessing.html">
         ml4eft.core.classifier.PreProcessing
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="ml4eft.core.th_predictions.html">
       ml4eft.core.th_predictions
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
      <label for="toctree-checkbox-7">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="ml4eft.core.th_predictions.TheoryPred.html">
         ml4eft.core.th_predictions.TheoryPred
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="ml4eft.core.truth.html">
       ml4eft.core.truth
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
      <label for="toctree-checkbox-8">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="ml4eft.core.truth.tt_prod.html">
         ml4eft.core.truth.tt_prod
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="ml4eft.limits.html">
     ml4eft.limits
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
    <label for="toctree-checkbox-9">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="ml4eft.limits.optimize_ns.html">
       ml4eft.limits.optimize_ns
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
      <label for="toctree-checkbox-10">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="ml4eft.limits.optimize_ns.Optimize.html">
         ml4eft.limits.optimize_ns.Optimize
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="ml4eft.plotting.html">
     ml4eft.plotting
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
    <label for="toctree-checkbox-11">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="ml4eft.plotting.features.html">
       ml4eft.plotting.features
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
      <label for="toctree-checkbox-12">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="ml4eft.plotting.features.plot_features.html">
         ml4eft.plotting.features.plot_features
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="ml4eft.plotting.plot_contours.html">
       ml4eft.plotting.plot_contours
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
      <label for="toctree-checkbox-13">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="ml4eft.plotting.plot_contours.col_cycler.html">
         ml4eft.plotting.plot_contours.col_cycler
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="ml4eft.plotting.plot_contours.combine_likelihood_binned.html">
         ml4eft.plotting.plot_contours.combine_likelihood_binned
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="ml4eft.plotting.plot_contours.combine_qc.html">
         ml4eft.plotting.plot_contours.combine_qc
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="ml4eft.plotting.plot_contours.combine_qc_reps.html">
         ml4eft.plotting.plot_contours.combine_qc_reps
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="ml4eft.plotting.plot_contours.plot_contours.html">
         ml4eft.plotting.plot_contours.plot_contours
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="ml4eft.plotting.plot_contours.plot_contours_binned.html">
         ml4eft.plotting.plot_contours.plot_contours_binned
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="ml4eft.preproc.html">
     ml4eft.preproc
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
    <label for="toctree-checkbox-14">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="ml4eft.preproc.lhe_reader.html">
       ml4eft.preproc.lhe_reader
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
      <label for="toctree-checkbox-15">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="ml4eft.preproc.lhe_reader.get_deta.html">
         ml4eft.preproc.lhe_reader.get_deta
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="ml4eft.preproc.lhe_reader.get_dphi.html">
         ml4eft.preproc.lhe_reader.get_dphi
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="ml4eft.preproc.lhe_reader.Kinematics.html">
         ml4eft.preproc.lhe_reader.Kinematics
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Results
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../results/overview.html">
   Unbinned multivariate observables for global SMEFT analyses from machine learning
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
  <label for="toctree-checkbox-16">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../results/ttbar_analysis_parton.html">
     Inclusive top pair production at the parton level
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/>
    <label for="toctree-checkbox-17">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../results/ttbar_analysis_parton1.html">
       Pseudo-data generation and benchmarking
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../results/ttbar_analysis_parton2.html">
       Neural network training
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../results/ttbar_analysis_parton3.html">
       Constraints on the SMEFT
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../results/ttbar_analysis.html">
     Inclusive top pair production at the particle level
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/>
    <label for="toctree-checkbox-18">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../results/ttbar_analysis_particle1.html">
       Kinematic features used as inputs to the neural network
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../results/ttbar_analysis_particle2.html">
       Results from the ML model vs binning in two features,
       <span class="math notranslate nohighlight">
        \(O(\Lambda^{-2})\)
       </span>
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../results/ttbar_analysis_particle3.html">
       Results from the ML model trained on two features vs all features,
       <span class="math notranslate nohighlight">
        \(O(\Lambda^{-2})\)
       </span>
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../results/ttbar_analysis_particle4.html">
       Results from the ML model vs binning in two features,
       <span class="math notranslate nohighlight">
        \(O(\Lambda^{-4})\)
       </span>
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../results/ttbar_analysis_particle5.html">
       Results from the ML model training on two features vs all features,
       <span class="math notranslate nohighlight">
        \(O(Λ^{-4})\)
       </span>
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../results/zh_analysis.html">
     Higgs production in association with a Z boson
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/>
    <label for="toctree-checkbox-19">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../results/zh_analysis1.html">
       Kinematic features used as inputs to the neural network
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../results/zh_analysis2.html">
       Results from the ML model vs binning in
       <span class="math notranslate nohighlight">
        \(p_{T}^{Z}\)
       </span>
       ,
       <span class="math notranslate nohighlight">
        \(O(\Lambda^{-2})\)
       </span>
       , pair-wise fit
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../results/zh_analysis3.html">
       Results from the ML model vs binning in
       <span class="math notranslate nohighlight">
        \(p_{T}^{Z}\)
       </span>
       ,
       <span class="math notranslate nohighlight">
        \(O(\Lambda^{-4})\)
       </span>
       , pair-wise fit
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../results/zh_analysis4.html">
       Results from the ML model vs binning in
       <span class="math notranslate nohighlight">
        \(p_{T}^{Z}\)
       </span>
       ,
       <span class="math notranslate nohighlight">
        \(O(\Lambda^{-4})\)
       </span>
       , fully marginalised
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/_autosummary/ml4eft.analyse.analyse.Analyse.rst.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.rst</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>ml4eft.analyse.analyse.Analyse</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="ml4eft-analyse-analyse-analyse">
<h1>ml4eft.analyse.analyse.Analyse<a class="headerlink" href="#ml4eft-analyse-analyse-analyse" title="Permalink to this headline">#</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="ml4eft.analyse.analyse.Analyse">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">ml4eft.analyse.analyse.</span></span><span class="sig-name descname"><span class="pre">Analyse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_to_models</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'quad'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ml4eft/analyse/analyse.html#Analyse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ml4eft.analyse.analyse.Analyse" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Post-training analyser that loads and evaluates models</p>
<dl class="py method">
<dt class="sig sig-object py" id="ml4eft.analyse.analyse.Analyse.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_to_models</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'quad'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ml4eft/analyse/analyse.html#Analyse.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ml4eft.analyse.analyse.Analyse.__init__" title="Permalink to this definition">#</a></dt>
<dd><p>Analyse constructor</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_to_models</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – Of the form {‘lin’: {‘c1’: <code class="docutils literal notranslate"><span class="pre">&lt;path_to_c1_models&gt;</span></code>, ‘c2’: <code class="docutils literal notranslate"><span class="pre">&lt;path_to_c2_models&gt;</span></code>}, ‘quad’: {‘c1_c1’: <code class="docutils literal notranslate"><span class="pre">&lt;path_to_c1_c1_models&gt;</span></code>},
{‘c1_c2’: <code class="docutils literal notranslate"><span class="pre">&lt;path_to_c1_c2_models&gt;</span></code>}, {‘c2_c2’: <code class="docutils literal notranslate"><span class="pre">&lt;path_to_c2_c2_models&gt;</span></code>}}</p></li>
<li><p><strong>order</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>default='quad'</em>) – The order in the EFT expansion (choose between either ‘lin’ or ‘quad’)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Trained models can be loaded by creating an <a class="reference internal" href="#ml4eft.analyse.analyse.Analyse" title="ml4eft.analyse.analyse.Analyse"><code class="xref py py-class docutils literal notranslate"><span class="pre">ml4eft.analyse.analyse.Analyse</span></code></a> object</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">analyser</span> <span class="o">=</span> <span class="n">Analyse</span><span class="p">(</span><span class="n">path_to_models</span><span class="p">,</span> <span class="s1">&#39;quad&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Followed by constructing a model dictionary that contains all the models plus associated settings</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">analyser</span><span class="o">.</span><span class="n">build_model_dict</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">analyser</span><span class="o">.</span><span class="n">model_df</span>
<span class="go">                models              idx             scalers                                       run_card              rep_paths</span>
<span class="go">lin  c1         [Classifier() ...   [rep_idx, ...]  [RobustScaler(quantile_range=(5,95)), ...]    {&#39;name&#39;: &#39;c1&#39;, ...}   [&lt;path_to_rep&gt;, ...]</span>
<span class="go">     c2         [Classifier() ...   ...             ...                                           ...                   ...</span>
<span class="go">quad c1_c1      [Classifier() ...   ...             ...                                           ...                   ...</span>
<span class="go">     c1_c2      [Classifier() ...   ...             ...                                           ...                   ...</span>
<span class="go">     c2_c2      [Classifier() ...   ...             ...                                           ...                   ...</span>
</pre></div>
</div>
<p>Events and the inclusive cross-section can be loaded into a DataFrame by</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">,</span> <span class="n">xsec</span> <span class="o">=</span> <span class="n">analyser</span><span class="o">.</span><span class="n">load_events</span><span class="p">(</span><span class="s1">&#39;.../events_&lt;rep&gt;.pkl.gz&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">          sqrts_hat       pt_l1       pt_l2  pt_l_leading  pt_l_trailing   ...</span>
<span class="go">1       1702.356400   20.532279  308.295118    308.295118      20.532279   ...</span>
<span class="go">2       ...           ...        ...           ...             ...</span>
</pre></div>
</div>
<p>To evaluate the models on the loaded DataFrame <code class="docutils literal notranslate"><span class="pre">df</span></code>, use:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">analyser</span><span class="o">.</span><span class="n">evaluate_models</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">analyser</span><span class="o">.</span><span class="n">models_evaluated_df</span><span class="p">[</span><span class="s1">&#39;models&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">analyser</span><span class="o">.</span><span class="n">models_evaluated_df</span><span class="p">[</span><span class="s1">&#39;models&#39;</span><span class="p">]</span>
<span class="go">lin   c1            [[0.05130317, 0.05723376, 0.058220766, 0.04042...</span>
<span class="go">      c2            [[0.074420996, 0.10293982, 0.10705493, 0.05695...</span>
<span class="go">quad  c1_c1         [[0.07958487, 0.13463444, 0.14215767, 0.049889...</span>
<span class="go">      c1_c2         [[0.0005354581, 0.00042073405, 0.0004430262, -...</span>
<span class="go">      c2_c2         [[0.00032746396, 0.00041523552, 0.00045115477,...</span>
</pre></div>
</div>
</dd></dl>

<p class="rubric">Methods</p>
<table class="longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#ml4eft.analyse.analyse.Analyse.__init__" title="ml4eft.analyse.analyse.Analyse.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>(path_to_models[, order])</p></td>
<td><p>Analyse constructor</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ml4eft.analyse.analyse.Analyse.accuracy_heatmap" title="ml4eft.analyse.analyse.Analyse.accuracy_heatmap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">accuracy_heatmap</span></code></a>(c_name, order, process[, ...])</p></td>
<td><p>Compares the NN and true EFT ratio functions and plots their ratio and pull</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ml4eft.analyse.analyse.Analyse.build_model_dict" title="ml4eft.analyse.analyse.Analyse.build_model_dict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_model_dict</span></code></a>([rep, epoch])</p></td>
<td><p>Constructs a DataFrame with loaded models plus associated info</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ml4eft.analyse.analyse.Analyse.build_path_dict" title="ml4eft.analyse.analyse.Analyse.build_path_dict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_path_dict</span></code></a>(root, order, prefix)</p></td>
<td><p>Construct path to model dictionary</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ml4eft.analyse.analyse.Analyse.coeff_function_truth" title="ml4eft.analyse.analyse.Analyse.coeff_function_truth"><code class="xref py py-obj docutils literal notranslate"><span class="pre">coeff_function_truth</span></code></a>(df, c_name, features, ...)</p></td>
<td><p>Evaluates the analytic EFT ratio functions <span class="math notranslate nohighlight">\(r_{\sigma}^{(i)}\)</span> and <span class="math notranslate nohighlight">\(r_{\sigma}^{(i,j)}\)</span></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ml4eft.analyse.analyse.Analyse.decision_function_nn" title="ml4eft.analyse.analyse.Analyse.decision_function_nn"><code class="xref py py-obj docutils literal notranslate"><span class="pre">decision_function_nn</span></code></a>(c[, df, epoch])</p></td>
<td><p>Computes the Neural Network parameterised decision function <span class="math notranslate nohighlight">\(g(x, c)\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ml4eft.analyse.analyse.Analyse.decision_function_truth" title="ml4eft.analyse.analyse.Analyse.decision_function_truth"><code class="xref py py-obj docutils literal notranslate"><span class="pre">decision_function_truth</span></code></a>(events, c, features, ...)</p></td>
<td><p>Computes the analytic decision function</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ml4eft.analyse.analyse.Analyse.evaluate_models" title="ml4eft.analyse.analyse.Analyse.evaluate_models"><code class="xref py py-obj docutils literal notranslate"><span class="pre">evaluate_models</span></code></a>(df[, rep, epoch])</p></td>
<td><p>Evaluates the loaded models on a Pandas DataFrame <code class="docutils literal notranslate"><span class="pre">df</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ml4eft.analyse.analyse.Analyse.filter_out_models" title="ml4eft.analyse.analyse.Analyse.filter_out_models"><code class="xref py py-obj docutils literal notranslate"><span class="pre">filter_out_models</span></code></a>(losses)</p></td>
<td><p>Filter out the badly trained models based on kmeans clustering.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ml4eft.analyse.analyse.Analyse.get_event_paths" title="ml4eft.analyse.analyse.Analyse.get_event_paths"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_event_paths</span></code></a>(root_path)</p></td>
<td><p>Returns a list of paths to the DataFrames at <code class="docutils literal notranslate"><span class="pre">root_path</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ml4eft.analyse.analyse.Analyse.likelihood_ratio_nn" title="ml4eft.analyse.analyse.Analyse.likelihood_ratio_nn"><code class="xref py py-obj docutils literal notranslate"><span class="pre">likelihood_ratio_nn</span></code></a>(c[, df, epoch])</p></td>
<td><p>Compute the Neural Network parameterised likelihood ratio</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ml4eft.analyse.analyse.Analyse.likelihood_ratio_truth" title="ml4eft.analyse.analyse.Analyse.likelihood_ratio_truth"><code class="xref py py-obj docutils literal notranslate"><span class="pre">likelihood_ratio_truth</span></code></a>(events, c, features, ...)</p></td>
<td><p>Computes the analytic likelihood ratio <span class="math notranslate nohighlight">\(r(x, c)\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ml4eft.analyse.analyse.Analyse.load_events" title="ml4eft.analyse.analyse.Analyse.load_events"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_events</span></code></a>(event_path)</p></td>
<td><p>Loads a event DataFrame and splits it into the events and the inclusive cross section</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ml4eft.analyse.analyse.Analyse.load_loss" title="ml4eft.analyse.analyse.Analyse.load_loss"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_loss</span></code></a>(path_to_loss)</p></td>
<td><p>Loades the losses per epoch into a list</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ml4eft.analyse.analyse.Analyse.load_models" title="ml4eft.analyse.analyse.Analyse.load_models"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_models</span></code></a>(model_path[, rep, epoch])</p></td>
<td><p>Loads the trained models</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ml4eft.analyse.analyse.Analyse.load_run_card" title="ml4eft.analyse.analyse.Analyse.load_run_card"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_run_card</span></code></a>(path)</p></td>
<td><p>Loads training run card</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ml4eft.analyse.analyse.Analyse.plot_accuracy_1d" title="ml4eft.analyse.analyse.Analyse.plot_accuracy_1d"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_accuracy_1d</span></code></a>(c, c_name, process, order, ...)</p></td>
<td><p>Plots the decision boundary <span class="math notranslate nohighlight">\(g(x,c)\)</span> as predicted by the ML model and the analytical (exact) model along 1 dimension, i.e :x=math:<cite>m_{tt}</cite></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ml4eft.analyse.analyse.Analyse.plot_heatmap" title="ml4eft.analyse.analyse.Analyse.plot_heatmap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_heatmap</span></code></a>(ax, data, xlabel, ylabel, ...)</p></td>
<td><p>Plot and return a heatmap of <code class="docutils literal notranslate"><span class="pre">data</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ml4eft.analyse.analyse.Analyse.plot_heatmap_overview" title="ml4eft.analyse.analyse.Analyse.plot_heatmap_overview"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_heatmap_overview</span></code></a>(c_name, order, process)</p></td>
<td><p>Produces an overview of heatmaps showing in each plot the ratio between the ML model prediction and the analytical EFT ratio function <span class="math notranslate nohighlight">\(r_{\sigma}^{(i)}\)</span> or <span class="math notranslate nohighlight">\(r_{\sigma}^{(i, j)}\)</span></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ml4eft.analyse.analyse.Analyse.plot_loss_overview" title="ml4eft.analyse.analyse.Analyse.plot_loss_overview"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_loss_overview</span></code></a>(c_name, order[, ax, rep])</p></td>
<td><p>Plots the loss evolution per replica and returns an overview plot</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ml4eft.analyse.analyse.Analyse.point_by_point_comp" title="ml4eft.analyse.analyse.Analyse.point_by_point_comp"><code class="xref py py-obj docutils literal notranslate"><span class="pre">point_by_point_comp</span></code></a>(df, c_name, c, features, ...)</p></td>
<td><p>Produces a point by point comparison overview per replica of the log-likelihood ratio between the ML model and the analytical (exact) model</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ml4eft.analyse.analyse.Analyse.point_by_point_comp_med" title="ml4eft.analyse.analyse.Analyse.point_by_point_comp_med"><code class="xref py py-obj docutils literal notranslate"><span class="pre">point_by_point_comp_med</span></code></a>(df, c, features, ...)</p></td>
<td><p>Produces a point by point comparison of the log-likelihood ratio between the (median) ML model and the analytical (exact) model</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ml4eft.analyse.analyse.Analyse.posterior_loader" title="ml4eft.analyse.analyse.Analyse.posterior_loader"><code class="xref py py-obj docutils literal notranslate"><span class="pre">posterior_loader</span></code></a>(path)</p></td>
<td><p>Loads the posterior samples at <code class="docutils literal notranslate"><span class="pre">path</span></code> and converts it to a DataFrame</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="ml4eft.analyse.analyse.Analyse.accuracy_heatmap">
<span class="sig-name descname"><span class="pre">accuracy_heatmap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">process</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mx_cut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epoch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ml4eft/analyse/analyse.html#Analyse.accuracy_heatmap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ml4eft.analyse.analyse.Analyse.accuracy_heatmap" title="Permalink to this definition">#</a></dt>
<dd><p>Compares the NN and true EFT ratio functions and plots their ratio and pull</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of the EFT parameter, e.g. ‘ctgre’</p></li>
<li><p><strong>order</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Order in the EFT expansion, options are ‘lin’ or ‘quad’</p></li>
<li><p><strong>process</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Specifies the process. Currently supported is ‘tt’ and ‘ZH’</p></li>
<li><p><strong>mx_cut</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em>, </em><em>optional</em>) – Plot range of the invariant mass</p></li>
<li><p><strong>rep</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Request to plot for a specific replica</p></li>
<li><p><strong>epoch</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Request to plot for a specific epoch.</p></li>
<li><p><strong>ax</strong> (<em>matplotlib.pyplot.axes</em><em>, </em><em>optional</em>) – Axes to plot on</p></li>
<li><p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – Add additional text on the heatmap such as the replica number</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>matplotlib.figure.Figure</em> – Heatmap of EFT ratio function</p></li>
<li><p><cite>matplotlib.figure.Figure</cite> – Heatmap of associated pull</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>For a single EFT coefficient <span class="math notranslate nohighlight">\(c_{tG}\)</span> the likelihood ratio takes the form</p>
<div class="math notranslate nohighlight">
\[r_{\sigma}(x, c_{tG}) = 1 + c_{tG} r_{\sigma}^{(c_{tG})} + c_{tG}^2 r_{\sigma}^{(c_{tG}, c_{tG})}\]</div>
<p>To plot for example the accuracy of <span class="math notranslate nohighlight">\(r_{\sigma}^{(c_{tG}, c_{tG})}\)</span> by plotting its ratio to the exact
result, one runs</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fig_med</span><span class="p">,</span> <span class="n">fig_pull</span> <span class="o">=</span> <span class="n">analyser</span><span class="o">.</span><span class="n">accuracy_heatmap</span><span class="p">(</span><span class="s1">&#39;ctgre_ctgre&#39;</span><span class="p">,</span> <span class="s1">&#39;quad&#39;</span><span class="p">,</span> <span class="s1">&#39;tt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig_med</span>
</pre></div>
</div>
<img alt="../_images/heatmap_med.png" src="../_images/heatmap_med.png" />
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fig_pull</span>
</pre></div>
</div>
<img alt="../_images/heatmap_pull.png" src="../_images/heatmap_pull.png" />
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ml4eft.analyse.analyse.Analyse.build_model_dict">
<span class="sig-name descname"><span class="pre">build_model_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epoch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ml4eft/analyse/analyse.html#Analyse.build_model_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ml4eft.analyse.analyse.Analyse.build_model_dict" title="Permalink to this definition">#</a></dt>
<dd><p>Constructs a DataFrame with loaded models plus associated info</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rep</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Replica number in case a specific replica is requested</p></li>
<li><p><strong>epoch</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Epoch to load, set to the best model by default</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ml4eft.analyse.analyse.Analyse.build_path_dict">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">build_path_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ml4eft/analyse/analyse.html#Analyse.build_path_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ml4eft.analyse.analyse.Analyse.build_path_dict" title="Permalink to this definition">#</a></dt>
<dd><p>Construct path to model dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>root</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Path to the model root directory</p></li>
<li><p><strong>order</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Order of the EFT expansion, choose between ‘lin’ and ‘quad’</p></li>
<li><p><strong>prefix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – For models: <cite>prefix</cite> = <code class="docutils literal notranslate"><span class="pre">models</span></code>, for theory predictions: <cite>prefix</cite> = <a href="#id1"><span class="problematic" id="id2">``</span></a>process_id`</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>path_to_models</strong> – Dictionary containing the paths to the models for each EFT ratio function</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ml4eft.analyse.analyse.Analyse.coeff_function_truth">
<span class="sig-name descname"><span class="pre">coeff_function_truth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">process</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ml4eft/analyse/analyse.html#Analyse.coeff_function_truth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ml4eft.analyse.analyse.Analyse.coeff_function_truth" title="Permalink to this definition">#</a></dt>
<dd><p>Evaluates the analytic EFT ratio functions <span class="math notranslate nohighlight">\(r_{\sigma}^{(i)}\)</span> and <span class="math notranslate nohighlight">\(r_{\sigma}^{(i,j)}\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.1)"><em>pandas.DataFrame</em></a>) – Events on which to evaluate <span class="math notranslate nohighlight">\(r_{\sigma}^{(i)}\)</span> and <span class="math notranslate nohighlight">\(r_{\sigma}^{(i,j)}\)</span></p></li>
<li><p><strong>c_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of the EFT coefficient. Choose between ‘ctgre’, ‘cut’, ‘cut_cut’, ‘ctgre_ctgre’</p></li>
<li><p><strong>features</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – Kinematic features, options are <code class="docutils literal notranslate"><span class="pre">m_tt</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code></p></li>
<li><p><strong>process</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Supported options are ‘tt’ or ‘ZH’</p></li>
<li><p><strong>order</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Order of the EFT expansion, choose between ‘lin’ and ‘quad’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>coeff</strong> – <code class="docutils literal notranslate"><span class="pre">(N,)</span> <span class="pre">ndarray</span></code> with <span class="math notranslate nohighlight">\(r_{\sigma}^{(i)}\)</span> or <span class="math notranslate nohighlight">\(r_{\sigma}^{(i,j)}\)</span> evaluated on <code class="docutils literal notranslate"><span class="pre">df</span></code> depending
on the <code class="docutils literal notranslate"><span class="pre">order</span></code></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array_like</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ml4eft.analyse.analyse.Analyse.decision_function_nn">
<span class="sig-name descname"><span class="pre">decision_function_nn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epoch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ml4eft/analyse/analyse.html#Analyse.decision_function_nn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ml4eft.analyse.analyse.Analyse.decision_function_nn" title="Permalink to this definition">#</a></dt>
<dd><p>Computes the Neural Network parameterised decision function <span class="math notranslate nohighlight">\(g(x, c)\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – event info</p></li>
<li><p><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – EFT point</p></li>
<li><p><strong>epoch</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Use models at a specific epoch, set to -1 (best modeL) by default</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>decision_function</strong> – NN decision function</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)">numpy.ndarray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ml4eft.analyse.analyse.Analyse.decision_function_truth">
<span class="sig-name descname"><span class="pre">decision_function_truth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">process</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ml4eft/analyse/analyse.html#Analyse.decision_function_truth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ml4eft.analyse.analyse.Analyse.decision_function_truth" title="Permalink to this definition">#</a></dt>
<dd><p>Computes the analytic decision function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – Specifies the order in the EFT expansion. Must be one of <code class="docutils literal notranslate"><span class="pre">lin</span></code>, <code class="docutils literal notranslate"><span class="pre">quad</span></code>.</p></li>
<li><p><strong>process</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Choose between <code class="docutils literal notranslate"><span class="pre">tt</span></code> or <code class="docutils literal notranslate"><span class="pre">ZH</span></code></p></li>
<li><p><strong>features</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – List of kinematic labels</p></li>
<li><p><strong>events</strong> (<em>pd.DataFrame</em>) – Pandas DataFrame with the events</p></li>
<li><p><strong>c</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><em>numpy.ndarray</em></a><em>, </em><em>shape=</em><em>(</em><em>M</em><em>,</em><em>)</em>) – EFT point in M dimensions, e.g c = (cHW, cHq3)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>decision_function</strong> – Truth decision function</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)">numpy.ndarray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ml4eft.analyse.analyse.Analyse.evaluate_models">
<span class="sig-name descname"><span class="pre">evaluate_models</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epoch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ml4eft/analyse/analyse.html#Analyse.evaluate_models"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ml4eft.analyse.analyse.Analyse.evaluate_models" title="Permalink to this definition">#</a></dt>
<dd><p>Evaluates the loaded models on a Pandas DataFrame <code class="docutils literal notranslate"><span class="pre">df</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – input to the models</p></li>
<li><p><strong>rep</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Replica number in case a specific replica is requested.
Set to <code class="docutils literal notranslate"><span class="pre">None</span></code> by default in which case all available replicas are included.</p></li>
<li><p><strong>epoch</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Epoch number to load. Set to the best model by default.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ml4eft.analyse.analyse.Analyse.filter_out_models">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">filter_out_models</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">losses</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ml4eft/analyse/analyse.html#Analyse.filter_out_models"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ml4eft.analyse.analyse.Analyse.filter_out_models" title="Permalink to this definition">#</a></dt>
<dd><p>Filter out the badly trained models based on kmeans clustering.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>losses</strong> (<em>array_like</em>) – Losses of all the trained models</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>good_model_idx</strong> – Array indices of the ‘good’ models</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)">numpy.ndarray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ml4eft.analyse.analyse.Analyse.get_event_paths">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_event_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ml4eft/analyse/analyse.html#Analyse.get_event_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ml4eft.analyse.analyse.Analyse.get_event_paths" title="Permalink to this definition">#</a></dt>
<dd><p>Returns a list of paths to the DataFrames at <code class="docutils literal notranslate"><span class="pre">root_path</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>root_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – path to the DataFrame directory</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>event_paths</strong> – list of paths to the DataFrames at stored at <code class="docutils literal notranslate"><span class="pre">root_path</span></code></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>The paths to the event DataFrames stored at <code class="docutils literal notranslate"><span class="pre">root_path</span></code> can be loaded for ‘n_rep’ replicas by</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">analyser</span><span class="o">.</span><span class="n">get_event_paths</span><span class="p">(</span><span class="s1">&#39;/training_data/tt_llvlvlbb/tt_c1&#39;</span><span class="p">)</span>
<span class="go">[/training_data/tt_llvlvlbb/tt_c1/events_0.pkl.gz&#39;, ... , /training_data/tt_llvlvlbb/tt_c1/events_&lt;n_rep&gt;.pkl.gz&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ml4eft.analyse.analyse.Analyse.likelihood_ratio_nn">
<span class="sig-name descname"><span class="pre">likelihood_ratio_nn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epoch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ml4eft/analyse/analyse.html#Analyse.likelihood_ratio_nn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ml4eft.analyse.analyse.Analyse.likelihood_ratio_nn" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the Neural Network parameterised likelihood ratio</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – Of the form {‘c1’: value, ‘c2’: value, …}</p></li>
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.1)"><em>pandas.DataFrame</em></a><em>, </em><em>optional</em>) – In case the loaded models have not been evaluated yet, one can pass <code class="docutils literal notranslate"><span class="pre">df</span></code> to evaluate the neural networks</p></li>
<li><p><strong>epoch</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Specify an epoch if necessary, takes the best model by default</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ratio</strong> – likelihood ratio as <code class="docutils literal notranslate"><span class="pre">(N,M)</span> <span class="pre">ndarray</span></code> with <code class="docutils literal notranslate"><span class="pre">N</span></code> and <code class="docutils literal notranslate"><span class="pre">M</span></code> the number of replicas and events respectively</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array_like</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ml4eft.analyse.analyse.Analyse.likelihood_ratio_truth">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">likelihood_ratio_truth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">process</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ml4eft/analyse/analyse.html#Analyse.likelihood_ratio_truth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ml4eft.analyse.analyse.Analyse.likelihood_ratio_truth" title="Permalink to this definition">#</a></dt>
<dd><p>Computes the analytic likelihood ratio <span class="math notranslate nohighlight">\(r(x, c)\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – Specifies the order in the EFT expansion. Must be one of <code class="docutils literal notranslate"><span class="pre">lin</span></code>, <code class="docutils literal notranslate"><span class="pre">quad</span></code>.</p></li>
<li><p><strong>process</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Choose between <code class="docutils literal notranslate"><span class="pre">tt</span></code> or <code class="docutils literal notranslate"><span class="pre">ZH</span></code></p></li>
<li><p><strong>features</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – List of kinematic labels</p></li>
<li><p><strong>events</strong> (<em>pd.DataFrame</em>) – Pandas DataFrame with the events</p></li>
<li><p><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – EFT point with operator names specified as keys</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ratio</strong> – Likelihood ratio wrt the SM</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)">numpy.ndarray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ml4eft.analyse.analyse.Analyse.load_events">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">load_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ml4eft/analyse/analyse.html#Analyse.load_events"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ml4eft.analyse.analyse.Analyse.load_events" title="Permalink to this definition">#</a></dt>
<dd><p>Loads a event DataFrame and splits it into the events and the inclusive cross section</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>event_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Path to the DataFrame (including the xsec as first row)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>events</strong> (<em>pandas.DataFrame</em>) – DataFrame with events</p></li>
<li><p><strong>xsec</strong> (<em>float</em>) – Inclusive cross-section of the events</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ml4eft.analyse.analyse.Analyse.load_loss">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">load_loss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_to_loss</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ml4eft/analyse/analyse.html#Analyse.load_loss"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ml4eft.analyse.analyse.Analyse.load_loss" title="Permalink to this definition">#</a></dt>
<dd><p>Loades the losses per epoch into a list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path_to_loss</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Path to loss file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>loss</strong> – list of losses per epoch</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ml4eft.analyse.analyse.Analyse.load_models">
<span class="sig-name descname"><span class="pre">load_models</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epoch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ml4eft/analyse/analyse.html#Analyse.load_models"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ml4eft.analyse.analyse.Analyse.load_models" title="Permalink to this definition">#</a></dt>
<dd><p>Loads the trained models</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – path to model directory</p></li>
<li><p><strong>rep</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Load only a specific replica specified by <code class="docutils literal notranslate"><span class="pre">rep</span></code>. Load all replicas by default.</p></li>
<li><p><strong>epoch</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Model at specific epoch to load. Set to the best model by default.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>models</strong> (<em>array_like</em>) – <code class="docutils literal notranslate"><span class="pre">(N,)</span> <span class="pre">ndarray</span></code> containing the loaded neural networks</p></li>
<li><p><strong>models_rep_nr</strong> (<em>array_like</em>) – <code class="docutils literal notranslate"><span class="pre">(N,)</span> <span class="pre">ndarray</span></code> containing the replica numbers of the loaded neural networks</p></li>
<li><p><strong>scalers</strong> (<em>array_like</em>) – <code class="docutils literal notranslate"><span class="pre">(N,)</span> <span class="pre">ndarray</span></code> containing the preprocessing scalers of the loaded neural networks</p></li>
<li><p><strong>run_card</strong> (<em>dict</em>) – training run card of the trained models</p></li>
<li><p><strong>rep_paths</strong> (<em>array_like</em>) – <code class="docutils literal notranslate"><span class="pre">(N,)</span> <span class="pre">ndarray</span></code> with the paths to the neural networks</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ml4eft.analyse.analyse.Analyse.load_run_card">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">load_run_card</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ml4eft/analyse/analyse.html#Analyse.load_run_card"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ml4eft.analyse.analyse.Analyse.load_run_card" title="Permalink to this definition">#</a></dt>
<dd><p>Loads training run card</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – path to json model run card that stores the hyperparameter settings</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>run_card</strong> – dict with all the hyperparameter settings</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ml4eft.analyse.analyse.Analyse.plot_accuracy_1d">
<span class="sig-name descname"><span class="pre">plot_accuracy_1d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">process</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mx_cut</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epoch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ml4eft/analyse/analyse.html#Analyse.plot_accuracy_1d"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ml4eft.analyse.analyse.Analyse.plot_accuracy_1d" title="Permalink to this definition">#</a></dt>
<dd><p>Plots the decision boundary <span class="math notranslate nohighlight">\(g(x,c)\)</span> as predicted by the ML model and the analytical (exact) model along
1 dimension, i.e :x=math:<cite>m_{tt}</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – Of the form {‘c1’: value, ‘c2’: value}</p></li>
<li><p><strong>process</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Choose between <code class="docutils literal notranslate"><span class="pre">tt</span></code> or <code class="docutils literal notranslate"><span class="pre">ZH</span></code></p></li>
<li><p><strong>order</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – Specifies the order in the EFT expansion. Must be one of <code class="docutils literal notranslate"><span class="pre">lin</span></code>, <code class="docutils literal notranslate"><span class="pre">quad</span></code>.</p></li>
<li><p><strong>mx_cut</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – Plot range of the invariant mass</p></li>
<li><p><strong>epoch</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Specific epoch to plot, set to the best models by default</p></li>
<li><p><strong>ax</strong> (<em>matplotlib.axes</em><em>, </em><em>optional</em>) – Plot on an already created axes object</p></li>
<li><p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – Additional text to show on the plot</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fig</strong> – Plot comparing the decision boundary <span class="math notranslate nohighlight">\(g(x,c)\)</span> as predicted by the ML model and the analytical (exact)
result</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>matplotlib.figure</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">analyser</span> <span class="o">=</span> <span class="n">Analyse</span><span class="p">(</span><span class="n">path_to_models</span><span class="p">,</span> <span class="s1">&#39;quad&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span> <span class="o">=</span> <span class="n">analyser</span><span class="o">.</span><span class="n">plot_accuracy_1d</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ctgre&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;cut&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span> <span class="n">process</span><span class="o">=</span><span class="s1">&#39;tt&#39;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;quad&#39;</span><span class="p">,</span> <span class="n">cut</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;$c=c_</span><span class="si">{tG}</span><span class="s1">=2\;\mathrm</span><span class="si">{quadratic}</span><span class="s1">$&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span>
</pre></div>
</div>
<img alt="../_images/decission_function_1d.png" src="../_images/decission_function_1d.png" />
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ml4eft.analyse.analyse.Analyse.plot_heatmap">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">plot_heatmap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xlabel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylabel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'GnBu'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ml4eft/analyse/analyse.html#Analyse.plot_heatmap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ml4eft.analyse.analyse.Analyse.plot_heatmap" title="Permalink to this definition">#</a></dt>
<dd><p>Plot and return a heatmap of <code class="docutils literal notranslate"><span class="pre">data</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.23)"><em>numpy.ndarray</em></a><em>, </em><em>shape=</em><em>(</em><em>M</em><em>, </em><em>N</em><em>)</em>) – Input array</p></li>
<li><p><strong>xlabel</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – x-label</p></li>
<li><p><strong>ylabel</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – y-label</p></li>
<li><p><strong>title</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – title of plot</p></li>
<li><p><strong>extent</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – boundaries of the heatmap, e.g. [x_0, x_1, y_1, y_2]</p></li>
<li><p><strong>bounds</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a>) – The boundaries of the discrete colourmap</p></li>
<li><p><strong>cmap</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – colourmap to use, set to ‘GnBu’ by default</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fig</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>matplotlib.figure.Figure</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ml4eft.analyse.analyse.Analyse.plot_heatmap_overview">
<span class="sig-name descname"><span class="pre">plot_heatmap_overview</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">process</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mx_cut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epoch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ml4eft/analyse/analyse.html#Analyse.plot_heatmap_overview"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ml4eft.analyse.analyse.Analyse.plot_heatmap_overview" title="Permalink to this definition">#</a></dt>
<dd><p>Produces an overview of heatmaps showing in each plot the ratio between the ML model prediction and
the analytical EFT ratio function <span class="math notranslate nohighlight">\(r_{\sigma}^{(i)}\)</span> or <span class="math notranslate nohighlight">\(r_{\sigma}^{(i, j)}\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of EFT coefficient</p></li>
<li><p><strong>order</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Order in the EFT expansion</p></li>
<li><p><strong>process</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Specifies the process, choose between ‘tt’ and ‘ZH’</p></li>
<li><p><strong>mx_cut</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>optional</em>) – Plot range of the invariant mass</p></li>
<li><p><strong>reps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Number of replicas to include in the heatmap overview</p></li>
<li><p><strong>epoch</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Specific epoch to plot at, takes the best models by default</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fig</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>matplotlib.figure</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>To produce a heatmap overview of the first 20 replicas, run</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">analyser</span> <span class="o">=</span> <span class="n">Analyse</span><span class="p">(</span><span class="n">path_to_models</span><span class="p">,</span> <span class="s1">&#39;quad&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span> <span class="o">=</span> <span class="n">analyser</span><span class="o">.</span><span class="n">plot_heatmap_overview</span><span class="p">(</span><span class="s1">&#39;ctgre_ctgre&#39;</span><span class="p">,</span> <span class="s1">&#39;quad&#39;</span><span class="p">,</span> <span class="s1">&#39;tt&#39;</span><span class="p">,</span> <span class="n">cut</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">reps</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span>
</pre></div>
</div>
<img alt="../_images/heatmap_overview.png" src="../_images/heatmap_overview.png" />
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ml4eft.analyse.analyse.Analyse.plot_loss_overview">
<span class="sig-name descname"><span class="pre">plot_loss_overview</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ml4eft/analyse/analyse.html#Analyse.plot_loss_overview"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ml4eft.analyse.analyse.Analyse.plot_loss_overview" title="Permalink to this definition">#</a></dt>
<dd><p>Plots the loss evolution per replica and returns an overview plot</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – name of EFT parameter</p></li>
<li><p><strong>order</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Specifies the order in the EFT expansion. Must be one of <code class="docutils literal notranslate"><span class="pre">lin</span></code>, <code class="docutils literal notranslate"><span class="pre">quad</span></code>.</p></li>
<li><p><strong>ax</strong> (<em>matplotlib.axes</em><em>, </em><em>optional</em>) – Axes object to plot on</p></li>
<li><p><strong>rep</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Specific replica to plot</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>fig</strong> (<em>matplotlib.figure</em>) – Loss overview plot</p></li>
<li><p><strong>train_loss_best</strong> (<em>array_like</em>) – List of ‘best’ training losses</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>To plot a loss overview corresponding to the training of <span class="math notranslate nohighlight">\(r_{\sigma}^{(c_{tG}, c_{tG})}\)</span>, run</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">analyser</span> <span class="o">=</span> <span class="n">Analyse</span><span class="p">(</span><span class="n">path_to_models</span><span class="p">,</span> <span class="s1">&#39;quad&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span> <span class="n">train_losses</span> <span class="o">=</span> <span class="n">analyser</span><span class="o">.</span><span class="n">plot_loss_overview</span><span class="p">(</span><span class="s1">&#39;ctgre_ctgre&#39;</span><span class="p">,</span> <span class="s1">&#39;quad&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span>
</pre></div>
</div>
<img alt="../_images/loss_overview.png" src="../_images/loss_overview.png" />
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ml4eft.analyse.analyse.Analyse.point_by_point_comp">
<span class="sig-name descname"><span class="pre">point_by_point_comp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">process</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ml4eft/analyse/analyse.html#Analyse.point_by_point_comp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ml4eft.analyse.analyse.Analyse.point_by_point_comp" title="Permalink to this definition">#</a></dt>
<dd><p>Produces a point by point comparison overview per replica of the log-likelihood ratio between the ML model
and the analytical (exact) model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.1)"><em>pandas.DataFrame</em></a>) – DataFrame with events</p></li>
<li><p><strong>c_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – name of EFT ratio function to compare, e.g. <code class="docutils literal notranslate"><span class="pre">c1_c2</span></code></p></li>
<li><p><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – Of the form {‘c1’: value, ‘c2’: value}</p></li>
<li><p><strong>features</strong> (<em>array_like</em>) – List of features to include in the comparison</p></li>
<li><p><strong>process</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Choose between <code class="docutils literal notranslate"><span class="pre">tt</span></code> or <code class="docutils literal notranslate"><span class="pre">ZH</span></code></p></li>
<li><p><strong>order</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Specifies the order in the EFT expansion. Must be one of <code class="docutils literal notranslate"><span class="pre">lin</span></code>, <code class="docutils literal notranslate"><span class="pre">quad</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">analyser</span> <span class="o">=</span> <span class="n">Analyse</span><span class="p">(</span><span class="n">path_to_models</span><span class="p">,</span> <span class="s1">&#39;quad&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">events_sm</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;&lt;events_sm_0.pkl.gz&gt;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">analyser</span><span class="o">.</span><span class="n">point_by_point_comp</span><span class="p">(</span><span class="n">events_sm</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;ctgre&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;cut&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span> <span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;m_tt&#39;</span><span class="p">],</span> <span class="s1">&#39;tt&#39;</span><span class="p">,</span> <span class="s1">&#39;lin&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span>
</pre></div>
</div>
<img alt="../_images/pbp_overview.png" src="../_images/pbp_overview.png" />
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ml4eft.analyse.analyse.Analyse.point_by_point_comp_med">
<span class="sig-name descname"><span class="pre">point_by_point_comp_med</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">process</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ml4eft/analyse/analyse.html#Analyse.point_by_point_comp_med"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ml4eft.analyse.analyse.Analyse.point_by_point_comp_med" title="Permalink to this definition">#</a></dt>
<dd><p>Produces a point by point comparison of the log-likelihood ratio between the (median) ML model and the analytical
(exact) model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.1)"><em>pandas.DataFrame</em></a>) – DataFrame with events</p></li>
<li><p><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.10)"><em>dict</em></a>) – Of the form {‘c1’: value, ‘c2’: value}</p></li>
<li><p><strong>features</strong> (<em>array_like</em>) – List of features to include in the comparison</p></li>
<li><p><strong>process</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Choose between <code class="docutils literal notranslate"><span class="pre">tt</span></code> or <code class="docutils literal notranslate"><span class="pre">ZH</span></code></p></li>
<li><p><strong>order</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Specifies the order in the EFT expansion. Must be one of <code class="docutils literal notranslate"><span class="pre">lin</span></code>, <code class="docutils literal notranslate"><span class="pre">quad</span></code>.</p></li>
<li><p><strong>ax</strong> (<em>matplotlib.axes</em>) – Axes object to plot on</p></li>
<li><p><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Additonal text to put on the plot</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">analyser</span> <span class="o">=</span> <span class="n">Analyse</span><span class="p">(</span><span class="n">path_to_models</span><span class="p">,</span> <span class="s1">&#39;quad&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">events_sm</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;&lt;events_sm_0.pkl.gz&gt;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">analyser</span><span class="o">.</span><span class="n">point_by_point_comp_med</span><span class="p">(</span><span class="n">events_sm</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;ctgre&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;cut&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span> <span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;m_tt&#39;</span><span class="p">],</span> <span class="s1">&#39;tt&#39;</span><span class="p">,</span> <span class="s1">&#39;lin&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span>
</pre></div>
</div>
<img alt="../_images/pbp-med.png" src="../_images/pbp-med.png" />
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ml4eft.analyse.analyse.Analyse.posterior_loader">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">posterior_loader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ml4eft/analyse/analyse.html#Analyse.posterior_loader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ml4eft.analyse.analyse.Analyse.posterior_loader" title="Permalink to this definition">#</a></dt>
<dd><p>Loads the posterior samples at <code class="docutils literal notranslate"><span class="pre">path</span></code> and converts it to a DataFrame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Location of posterior samples (.json file)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>df</strong> – DataFrame of the posterior samples</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v1.5.1)">pandas.DataFrame</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="ml4eft.analyse.analyse.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">ml4eft.analyse.analyse</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="ml4eft.analyse.animate.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">ml4eft.analyse.animate</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By R. Gomez Ambrosio, J. ter Hoeve, M. Madigan, J. Rojo, V. Sanz<br/>
  
      &copy; Copyright 2022, ML4EFT developer team.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>